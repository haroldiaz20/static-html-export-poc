(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{2031:function(e,t,n){__NEXT_REGISTER_PAGE("/command/kelleguides/p2d/2",function(){return e.exports=n(2079),{page:e.exports.default}})},2079:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),o=n.n(c),i=n(488),l=n(25),u=n(13),s=n(8),f=n(21),p=n.n(f),d=n(2098),m=n(1439),b=n(487),h=n(490),v=n(938),y=n(12),g=n(311),E=n(307),w=n(550),x=n(2),S=n.n(x),C=n(583),O=n.n(C);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j=function(e){var t=e.contract,n=t.contract_type,r=t.id,c=e.radioValue,o=e.setRadioValue,i=e.index,l=N(a.a.useState(null),2),u=l[0],s=l[1],f=c===r;a.a.useEffect(function(){f||s(!1)},[f]);var p=n&&n.split(":")[0],d=n&&n.split(" ")[1].split("-")[0].split("_").join(" "),m=S()(_({},O.a.cardNeutral,!f),_({},O.a.radioActive,f),_({},O.a.radioInactive,c.length&&!u),"d-flex","flex-row","p-3","my-3"),b=S()(O.a.caps,_({},O.a.inactiveText,c.length&&!u),"mb-1"),h=S()(O.a.state_text,_({},O.a.inactiveText,c.length&&!u),"mb-2");return a.a.createElement("div",{className:m},a.a.createElement(w.a,{checked:f,id:r,name:"Contract Card ".concat(i),value:r,onChange:function(e,t){return function(e,t){o(e,t),s(!0)}(t,r)},className:"mr-2"}),a.a.createElement("div",null,a.a.createElement(g.a,{className:b},d),a.a.createElement(g.a,{className:h},p)))},k=function(e){var t=e.contracts,n=e.radioValue,r=e.setRadioValue,c=e.onNext,o=e.contractIsSelected;return a.a.createElement("div",{className:"container-fluid p-0"},a.a.createElement(b.a,{className:"m-0"},a.a.createElement(i.a,{sm:12,className:"p-4"},a.a.createElement("div",{className:"d-flex align-items-left"},a.a.createElement(h.a,{as:"h3"},"1. Choose Your Contract")))),a.a.createElement(v.a,{className:"".concat(O.a.dividerSidebar)}),a.a.createElement(b.a,{className:"d-flex flex-row align-items-center m-0 p-3",style:{backgroundColor:"".concat(y.a.gold10)}},a.a.createElement("img",{src:"https://storage.googleapis.com/attachment-prod-e2ad/bl64aee3sqabmt8a8ii0",alt:"light bulb"}),a.a.createElement("div",{style:{width:300}},a.a.createElement(g.a,{className:"d-flex text-black m-0"},"Select the contract that you want to digitize and attach to the selected opportunity."))),a.a.createElement(i.a,null,t.map(function(e){return a.a.createElement(j,{contract:e,key:e.id,radioValue:n,setRadioValue:r})})),a.a.createElement(b.a,{className:"m-0"},a.a.createElement(i.a,{sm:12,className:"d-flex flex-row p-4 align-items-center"},a.a.createElement("div",{className:"flex-fill text-right"},a.a.createElement(E.a,{onClick:function(){return c()},disabled:!o},"Next Step")))))},P=n(27);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var V=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,T(t).apply(this,arguments))}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){return a.a.createElement(k,this.props)}}])&&R(n.prototype,r),c&&R(n,c),t}(),G=Object(s.b)({steps:Object(P.c)()}),q=Object(l.b)(G)(V),L=n(212),D=n(1321),B=n.n(D);var H=function(e){var t,n,r,c=e.contract_thumbnail,o=e.contract_text,l=e.contractIsSelected,s=o.split(":")[0],f=o.split(" ")[1].split("-")[0].split("_").join(" "),p=S()((t={},n=B.a.cardActive,r=l,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),"d-flex","justify-content-center","align-items-start","p-3","mr-4");return a.a.createElement(L.a,{className:p,style:{backgroundColor:"#FFFFFF",maxHeight:305,minWidth:250}},a.a.createElement(i.a,{className:"p-0"},a.a.createElement("div",{className:"d-flex justify-content-center align-items-start",style:{backgroundColor:"#F5F5F6",width:"100%",height:"100%"}},a.a.createElement("img",{src:c,alt:"contract",height:"190",width:"160"})),a.a.createElement(i.a,{className:"p-0"},a.a.createElement(u.d,{chipStyle:{backgroundColor:"#F8F8F9",fontSize:"12px",height:22,borderColor:"#F8F8F9",color:"#373F50",width:98,marginTop:15},iconDotStyle:{backgroundColor:"#878C97",borderRadius:"100%",width:15,height:15},iconColor:"#ffffff"},"Submitted"),a.a.createElement(g.a,{className:"mb-0 mt-1 ".concat(B.a.caps)},f),a.a.createElement(g.a,null,s))))},J=n(23),K=n(604),Y=n(15),z=n(3),U=n(277);function M(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function W(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var c=e.apply(t,n);function o(e){M(c,r,a,o,i,"next",e)}function i(e){M(c,r,a,o,i,"throw",e)}o(void 0)})}}function X(e){return{type:U.a,data:e}}var Q=function(){var e=W(o.a.mark(function e(){var t,n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/kw-rcvd-docs-mgr/api/v1/file/list",t=z.g.startAsyncSpan("getListOfSubmittedContracts"),e.prev=2,e.next=5,z.c.get("/kw-rcvd-docs-mgr/api/v1/file/list");case 5:return n=e.sent,r=n.data.data,z.g.finishAsyncSpanSuccess(t,r),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(2),z.g.finishAsyncSpanError(t,e.t0),console.error(e.t0);case 15:return e.abrupt("return","");case 16:case"end":return e.stop()}},e,null,[[2,11]])}));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=W(o.a.mark(function e(t){var n,r,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/kw-rcvd-docs-mgr/api/v1/file/access-url",n=z.g.startAsyncSpan("makePublicUrlForContractImage"),e.prev=2,e.next=5,z.c.post("/kw-rcvd-docs-mgr/api/v1/file/access-url",t);case 5:return r=e.sent,a=r.data,z.g.finishAsyncSpanSuccess(n,a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(2),z.g.finishAsyncSpanError(n,e.t0),console.log(e.t0);case 15:return e.abrupt("return","");case 16:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}();function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function te(e,t,n,r,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function ne(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var c=e.apply(t,n);function o(e){te(c,r,a,o,i,"next",e)}function i(e){te(c,r,a,o,i,"throw",e)}o(void 0)})}}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,i=new Array(c),l=0;l<c;l++)i[l]=arguments[l];return r=this,a=(e=ae(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==$(a)&&"function"!=typeof a?ce(r):a,ie(ce(n),"state",{radioValue:"",contractIsSelected:null,selectedContractId:""}),ie(ce(n),"componentDidMount",ne(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.retrieveContractList(),t=p.a.router.pathname,e.next=4,n.props.findCurrentKelleGuideStep(t);case 4:n.props.setCurrentStepInProgress(n.props.currentStep);case 5:case"end":return e.stop()}},e)}))),ie(ce(n),"setActiveRadioValue",function(e,t){n.setState({radioValue:e,contractIsSelected:!0,selectedContractId:t})}),ie(ce(n),"handleOnClickNextBtn",function(e){var t=p.a.query.opportunity_id,r=n.state.selectedContractId,a="/command/kelleguides/p2d/3?opportunity_id=".concat(t,"&contract_id=").concat(r);p.a.push(a)}),n}var n,c,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,a.a.Component),n=t,(c=[{key:"render",value:function(){var e=this.props.contracts,t=this.state,n=t.radioValue,c=t.contractIsSelected,o=e&&e.filter(function(e){return e.id===n}),l=n.length?o:e,s=this.props,f=s.steps,p=s.currentStep;return s.flags.kelleguidePaper2Digital?a.a.createElement(r.Fragment,null,a.a.createElement(u.x,{title:J.s,subtitle:J.r}),a.a.createElement(u.D,{items:f,currentStep:p,validateStep:function(){return!0}}),a.a.createElement("div",{style:{height:"100%",minHeight:"calc(100vh - 157px)",backgroundColor:"#f5f5f6"},className:"d-flex"},a.a.createElement("div",{className:"d-flex flex-column pt-5",style:{width:"100%"}},a.a.createElement(K.a,{badgeCount:e.length,heading:"Your Submitted Contracts",subText:"You can view your active & under contract opportunities."}),a.a.createElement(u.p,{className:"p-3",bgColor:"#F5F5F6"},a.a.createElement(i.a,{xs:12,className:"d-flex justify-content-start p-0"},l.map(function(e){return a.a.createElement(H,{key:e.id,id:e.id,contract_thumbnail:e.temp_contract_thumbnail,contract_text:e.contract_type,contractIsSelected:c})})))),a.a.createElement(u.B,null,a.a.createElement(q,ee({},this.props,{contracts:e,contractIsSelected:n,radioValue:n,setRadioValue:this.setActiveRadioValue,onNext:this.handleOnClickNextBtn}))))):a.a.createElement(u.e,{closeUrl:"/command",title:J.s,subtitle:J.r})}}])&&re(n.prototype,c),l&&re(n,l),t}(),ue=Object(s.b)({currentStep:Object(P.a)(),steps:Object(P.c)(),contracts:Object(s.a)(function(e){return e.get("SelectContractReducer")},function(e){return e.get("contracts").toJS()})}),se=Object(l.b)(ue,{setCurrentStep:Y.d,setCurrentKelleGuide:Y.c,setCurrentStepInProgress:Y.e,findCurrentKelleGuideStep:Y.a,retrieveContractList:function(){return e=W(o.a.mark(function e(t){var n,r,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(X(!0)),e.next=3,Q();case 3:return n=e.sent,r=n.map(function(){var e=W(o.a.mark(function e(t){var n,r,a,c,i,l,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.attributes.paper_digital_pages.pages[0];case 2:return n=e.sent,r=n.image,a=n.classification,c={file_url:r.url},e.next=8,Z(c);case 8:return i=e.sent,l=i.data,u={temp_contract_thumbnail:l.attributes.pre_signed_url,contract_type:a.doc_variation_name,id:t.id},e.abrupt("return",u);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=7,Promise.all(r);case 7:a=e.sent;try{t((c=a,{type:U.b,data:c}))}catch(e){console.log(e)}finally{t(X(!1))}case 9:case"end":return e.stop()}var c},e)})),function(t){return e.apply(this,arguments)};var e}})(Object(d.c)(Object(m.c)(le)));t.default=function(e){return a.a.createElement(se,e)}},277:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r="IS_FETCHING",a="SET_CONTRACT_LIST"},550:function(e,t,n){"use strict";var r=n(5),a=n(9),c=n(11),o=n(0),i=n.n(o),l=n(1),u=n(2),s=n.n(u),f=n(2101),p=n(31),d=function(e){var t=e.name,n=e.error,o=e.forwardedRef,l=e.disabled,u=e.onChange,p=e.checked,d=e.value,m=e.className,b=Object(c.a)(e,["name","error","forwardedRef","disabled","onChange","checked","value","className"]),h=s()(Object(a.a)({radio:!0,"radio--error":n},m,m));return i.a.createElement("input",Object(r.a)({ref:o},b,{name:t,className:h,type:"radio",disabled:l,checked:p,onChange:function(e){l||Object(f.a)(u,t,d)},value:d}))};d.propTypes={checked:l.bool,className:l.string,disabled:l.bool,error:l.bool,forwardedRef:p.a,name:l.string.isRequired,onChange:l.func.isRequired,value:l.node.isRequired},d.defaultProps={error:!1,disabled:!1,className:""};var m=i.a.forwardRef(function(e,t){return i.a.createElement(d,Object(r.a)({forwardedRef:t},e))});t.a=m},604:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=(n(1),n(713)),o=n(12),i=n(490),l=n(311),u=n(724),s=n.n(u),f=function(e){var t=e.badgeCount,n=e.heading,r=e.subText,u=a.a.createElement(c.a,{className:"ml-2 text-white",style:{backgroundColor:"".concat(o.a.green)}},t);return a.a.createElement("div",{className:s.a.setLeft},a.a.createElement(i.a,{as:"h3"},n,t>0&&u),a.a.createElement(l.a,{className:"mt-2"},r))};n.d(t,"a",function(){return f})},713:function(e,t,n){"use strict";var r=n(5),a=n(11),c=n(0),o=n.n(c),i=n(1),l=n(2),u=n.n(l),s=function(e){var t=e.className,n=Object(a.a)(e,["className"]);return o.a.createElement("div",Object(r.a)({className:u()("badge",t)},n))};s.propTypes={className:i.string},t.a=s}},[[2031,1,0,2]]]);